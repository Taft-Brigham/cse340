<div class="register-container">
    <h1><%- title %></h1>
    <p><%- messages() %></p>
    <% if (errors) { %>
      <ul class="notice">
     <% errors.array().forEach(error => { %>
       <li><%= error.msg %></li>
    <%  }) %>
     </ul>
    <% } %>
    <form action="/account/register" method="POST">
        <label for="account_firstname">First Name:</label>
        <input type="text" id="account_firstname" name="account_firstname" required>

        <label for="account_lastname">Last Name:</label>
        <input type="text" id="account_lastname" name="account_lastname" required>

        <label for="account_email">Email:</label>
        <input type="email" id="account_email" name="account_email" required placeholder="Enter a valid email address">

        <label for="account_password">Password:</label>
        <input type="password" id="account_password" name="account_password" required 
              pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{12,}$"
              title="Must contain at least one number and one uppercase and lowercase letter, one special character, and at least 12 or more characters">
              <p class="pass"><input type="checkbox" onclick="myFunction()">Show Password</p>

               <!-- <span id="pswdBtn">Show Password</span> ------- this is for the first paswd visibility feature  -->

        <button type="submit">Register</button>
    </form>

    <!---------- This is one way of implementing the password visibility 
                     feature I chose the second method below              -------------------->
    <!-- <script>
        const pswdBtn = document.querySelector("#pswdBtn");
        pswdBtn.addEventListener("click", function() {
        const pswdInput = document.getElementById("account_password");
        const type = pswdInput.getAttribute("type");
        if (type == "password") {
            pswdInput.setAttribute("type", "text");
            pswdBtn.innerHTML = "Hide Password";
        } else {
            pswdInput.setAttribute("type", "password");
            pswdBtn.innerHTML = "Show Password";
        }
        }); </script> -->

<!-- Below is the js code to implement the second way of adding password visibility -->
        <script>
            function myFunction() {
              var x = document.getElementById("account_password");
              if (x.type === "password") {
                x.type = "text";
              } else {
                x.type = "password";
              }
            }
            </script>
   
</div>